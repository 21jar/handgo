<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en"/>
<head>
    <link rel="stylesheet" type="text/css" href="/css/layui.css"/>
    <script src="../../layui.all.js"></script>
    <script src="../../js/jquery.min.js"/>
    <meta charset="UTF-8"/>
    <title>Title</title>
</head>
<body>
<script src="/layui.all.js"></script>
<div style="margin: 0 auto;">
    <div class="layui-container">
        <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
            <legend>方框风格的表单集合</legend>
        </fieldset>
        <form id="editor" class="layui-col-xs12 layui-col-sm12 layui-col-md12 layui-row-xs12">
            <div class="layui-form-item">
                <label class="layui-form-label">用户 ID</label>
                <div class="layui-input-block">
                    <input th:type="text" id="uid" name="uid" autocomplete="off" placeholder="请输入用户 ID" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">用户 ID</label>
                <div class="layui-input-block">
                    <input th:type="text" name="account" autocomplete="off" placeholder="请输入用户 ID" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">密码</label>
                <div class="layui-input-block">
                    <input th:type="text" name="password" autocomplete="off" placeholder="请输入用户 ID" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">手机号</label>
                <div class="layui-input-block">
                    <input th:type="tel" name="phoneNumber" autocomplete="off" placeholder="请输入用户 ID" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">邮箱</label>
                <div class="layui-input-block">
                    <input th:type="email" name="email" autocomplete="off" placeholder="请输入用户 ID" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">权限</label>
                <div class="layui-input-block">
                    <input th:type="text" name="permission" autocomplete="off" placeholder="请输入用户 ID" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">创建时间</label>
                <div class="layui-input-block">
                    <!--<input th:type="text" th:value="${userDetail.phoneNumber}" name="uid" autocomplete="off" placeholder="请输入用户 ID" class="layui-input" />-->
                    <input type="text" id="createDate" name="createDate" lay-verify="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input" lay-key="1" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">上次登录时间</label>
                <div class="layui-input-block">
                    <input th:type="text" id="lastLogin" name="lastLogin" autocomplete="off" placeholder="请输入用户 ID" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">头像</label>
                <div class="layui-input-block">
                    <input th:type="text" name="headPhoto" autocomplete="off" placeholder="请输入用户 ID" class="layui-input" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">状态</label>
                <div class="layui-input-block">
                    <input th:type="text" name="status" autocomplete="off" placeholder="请输入用户 ID" class="layui-input" />
                </div>
            </div>
            <!--<div class="layui-form-item">-->
                <!--<button class="layui-btn" onclick="ms()" th:text="添加"></button>-->

            <!--</div>-->
        </form>
        <button onclick="update()" id="th" value="kokoko">sdfsdff</button>
    </div>
</div>
<script>
    //添加编辑
    function update() {
        // layer.msg('sdf');
        // var p = parent;
        // p.layer.msg('parent');
        $.ajax({
            type: 'post',
            url: '/admin/users/edit',
            data: $("#editor").serialize(),
            success: function(data) {
                // your code
                layer.msg("提交成功");
                //获取本身窗口
                var index = parent.layer.getFrameIndex(window.name);
                //关闭
                parent.layer.close(index);
            },
            error: function() {
                layer.msg("网络错误，请重试！");
            }
        });

    }
    var laydate = layui.laydate;
    laydate.render({
        elem: "#createDate"
    });
    laydate.render({
        elem: "#lastLogin"
    });
</script>
<script src="../../layui.all.js"></script>
</body>
</html>